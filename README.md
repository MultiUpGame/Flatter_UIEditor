# Flutter UI Редактор

Цей проєкт є візуальним редактором інтерфейсу (UI) для Flutter, створеним за допомогою самого Flutter. Мета — створити інструмент, схожий на редактори в середовищах розробки, який дозволяє візуально конструювати інтерфейс, перетягуючи та налаштовуючи віджети.

## Основні можливості

*   **Візуальне конструювання:** Створення інтерфейсу шляхом перетягування віджетів з палітри на полотно.
*   **Drag-and-Drop:** Інтуїтивне переміщення елементів з палітри та в межах полотна.
*   **Дерево віджетів:** Ієрархічне представлення структури віджетів на полотні.
*   **Інспектор властивостей:** Редагування властивостей виділеного віджета.
*   **Модульна архітектура:** Проєкт структуровано для легкого розширення та підтримки.

---

## Архітектура та структура проєкту

Проєкт має чітко розділену структуру, де кожен компонент виконує свою специфічну роль. Це робить систему гнучкою та масштабованою. Нижче наведено опис ключових файлів та їхніх взаємозв'язків.

| Файл                                        | Призначення                                                                                                 | Зв'язки та залежності                                                                                                                                                                                                                                 |
| ------------------------------------------- | ----------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **`lib/main.dart`**                         | Точка входу в додаток. Ініціалізує Flutter та запускає головний екран.                                         | <ul><li>Запускає: `UiEditorScreen`.</li></ul>                                                                                                                                                                                                          |
| **`lib/editor/ui_editor_screen.dart`**      | Головний екран редактора, що визначає загальну структуру інтерфейсу (палітра, полотно, інспектор).             | <ul><li>Використовує: `CanvasController`.</li><li>Збирає разом: `PaletteCategoryView`, `WidgetTreeView`, `CanvasView`, `PropertiesInspector`.</li></ul>                                                                                                   |
| **`lib/editor/canvas_controller.dart`**     | Центральний контролер, що керує станом усього редактора (список віджетів, виділений віджет).                   | <ul><li>Керує: `CanvasWidgetData`.</li><li>Взаємодіє з: `UiEditorScreen`, `CanvasView`, `WidgetTreeView`, `PropertiesInspector`.</li><li>Використовує `ChangeNotifier` для сповіщення слухачів про зміни.</li></ul>                               |
| **`lib/editor/canvas_widget_data.dart`**    | Модель даних для віджета, розміщеного на полотні. Зберігає ID, позицію, розмір, та вкладені віджети.              | <ul><li>Використовується в: `CanvasController`, `CanvasView`, `WidgetTreeView`, `DraggableItem`.</li></ul>                                                                                                                                               |
| **`lib/editor/widget_factory.dart`**        | "Фабрика", що створює екземпляри віджетів за їх текстовою назвою.                                            | <ul><li>Використовується в: `CanvasView` (для створення віджетів при перетягуванні), `PaletteItemCard` (для `feedback`).</li></ul>                                                                                                                         |
| **`lib/editor/canvas/canvas_view.dart`**    | Інтерактивне полотно, де розміщуються та переміщуються віджети.                                              | <ul><li>Є `DragTarget` для `PaletteItem`.</li><li>Використовує: `DraggableItem` для відображення віджетів, `GridPainter` для фону.</li><li>Взаємодіє з `CanvasController` для оновлення стану.</li></ul>                                      |
| **`lib/editor/canvas/draggable_item.dart`** | Обгортка для віджета на полотні, що робить його перетягуваним та дозволяє виділення.                          | <ul><li>Відображає: `CanvasWidgetData`.</li><li>Взаємодіє з `CanvasView` для оновлення позиції.</li></ul>                                                                                                                                                   |
| **`lib/editor/canvas/grid_painter.dart`**   | Малює сітку на фоні полотна для кращого візуального позиціонування.                                           | <ul><li>Використовується в: `CanvasView`.</li></ul>                                                                                                                                                                                                     |
| **`lib/editor/palette/widgets_palette_data.dart`** | "База даних" віджетів. Містить статичний список `PaletteItem`, що визначає, які віджети доступні в палітрі. | <ul><li>Визначає модель `PaletteItem`.</li><li>Використовується в: `PaletteCategoryView` для побудови списку.</li></ul>                                                                                                                                 |
| **`lib/editor/palette/palette_category_view.dart`** | Відображає віджети в палітрі, згруповані за категоріями.                                                   | <ul><li>Читає дані з `widgets_palette_data.dart`.</li><li>Використовує: `PaletteItemCard` для кожного елемента.</li></ul>                                                                                                                                  |
| **`lib/editor/palette/palette_item_card.dart`** | Картка одного віджета в палітрі. Є `Draggable` для перетягування на полотно.                                  | <ul><li>Представляє: `PaletteItem`.</li><li>Перетягується на `CanvasView`.</li></ul>                                                                                                                                                                        |
| **`lib/editor/tree/widget_tree_view.dart`** | Відображає ієрархічну структуру віджетів на полотні у вигляді дерева.                                        | <ul><li>Слухає зміни в `CanvasController`.</li><li>Дозволяє виділяти віджети, клікаючи по елементах дерева.</li></ul>                                                                                                                                  |
| **`lib/editor/properties/properties_inspector.dart`** | Панель для перегляду та редагування властивостей виділеного на полотні віджета.                          | <ul><li>Слухає зміни в `CanvasController` для отримання виділеного віджета.</li><li>Дозволяє змінювати атрибути `CanvasWidgetData`.</li></ul>                                                                                                    |

---

## Початок роботи

Для запуску проєкту виконайте стандартні кроки для Flutter-додатків:

1.  Переконайтеся, що у вас встановлено Flutter SDK.
2.  Відкрийте проєкт у вашому IDE (VS Code, Android Studio тощо).
3.  Виконайте `flutter pub get` для завантаження залежностей.
4.  Запустіть додаток на бажаній платформі (веб, десктоп).

Декілька ресурсів, які допоможуть вам розпочати, якщо це ваш перший проєкт на Flutter:

-   [Lab: Напишіть свій перший додаток на Flutter](https://docs.flutter.dev/get-started/codelab)
-   [Cookbook: Корисні приклади Flutter](https://docs.flutter.dev/cookbook)

Для отримання допомоги щодо початку роботи з розробкою на Flutter перегляньте [онлайн-документацію](https://docs.flutter.dev/).
